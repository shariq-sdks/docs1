---
title: "Quickstart"
description: "Build a production-ready OAuth 2.0 authorization server in minutes using Authlete's TypeScript SDK"
---

<Steps>
  <Step title="Download and initialize SDK">
    Install the Authlete TypeScript SDK. This package provides all the methods you need to implement OAuth 2.0 endpoints.

    <CodeGroup>
    ```bash npm
    npm install @authlete/typescript-sdk
    ```
    </CodeGroup>
  </Step>

  <Step title="Download project structure">
    Download the starter project that includes Express server setup, TypeScript configuration, and all necessary files. It will create an app with the name `my-auth-server` in your current directory.

    <CodeGroup>
    ```bash npm
    npm create authlete-app@latest my-auth-server
    cd my-auth-server
    ```

    ```bash npx
    npx create-authlete-app@latest my-auth-server
    cd my-auth-server
    ```
    </CodeGroup>
  </Step>

  <Step title="Update credentials">
    Open the `.env` file in your project root and replace the sample values with your Authlete credentials from [console.authlete.com](https://console.authlete.com). This file contains your service credentials needed to authenticate with Authlete.

    <CodeGroup>
    ```env .env
    AUTHLETE_BASE_URL=https://us.authlete.com
    AUTHLETE_SERVICE_ID=your_service_id
    AUTHLETE_SERVICE_SECRET=your_service_secret
    AUTHLETE_BEARER_TOKEN=your_bearer_token
    PORT=3000
    ```
    </CodeGroup>

    <Warning>
    Get your credentials from the [Authlete Console](https://console.authlete.com). Never commit your `.env` file to version control.
    </Warning>
  </Step>

  <Step title="Implement authorization endpoint">
    Open `src/endpoints/authorization.ts` and paste this code. This endpoint handles OAuth authorization requests from clients and returns a ticket for the consent step.

    <CodeGroup>
    ```typescript src/endpoints/authorization.ts
    import { Authlete } from '@authlete/typescript-sdk';
    import { Request, Response } from 'express';

    const authlete = new Authlete({
      bearer: process.env.AUTHLETE_BEARER_TOKEN || '',
    });

    export async function handleAuthorization(req: Request, res: Response) {
      try {
        // Build authorization request parameters
        const params = new URLSearchParams({
          response_type: req.query.response_type as string || 'code',
          client_id: req.query.client_id as string,
          redirect_uri: req.query.redirect_uri as string,
          scope: (req.query.scope as string) || 'openid',
          state: req.query.state as string || '',
        });

        // Call Authlete authorization API
        const response = await authlete.authorizationEndpoint.authAuthorizationApi({
          serviceId: process.env.AUTHLETE_SERVICE_ID as string,
          requestBody: {
            parameters: params.toString(),
          },
        });

        // If user interaction is required, redirect to consent
        if (response.action === 'INTERACTION') {
          // Store ticket in session or pass to consent page
          return res.redirect(`/consent?ticket=${response.ticket}`);
        }

        return res.status(400).json({ error: response.resultMessage });
      } catch (error) {
        console.error('Authorization error:', error);
        return res.status(500).json({ error: 'Internal server error' });
      }
    }
    ```
    </CodeGroup>
  </Step>

  <Step title="Implement consent endpoint">
    Open `src/endpoints/consent.ts` and paste this code. This endpoint issues the authorization code after user consent. It uses the ticket from the authorization step to generate the code.

    <CodeGroup>
    ```typescript src/endpoints/consent.ts
    import { Authlete } from '@authlete/typescript-sdk';
    import { Request, Response } from 'express';

    const authlete = new Authlete({
      bearer: process.env.AUTHLETE_BEARER_TOKEN || '',
    });

    export async function handleConsent(req: Request, res: Response) {
      try {
        const { ticket } = req.query;

        // Issue authorization code
        const response = await authlete.authorizationEndpoint.authAuthorizationIssueApi({
          ticket: ticket as string,
          subject: 'user123', // Replace with actual authenticated user ID
          claims: {},
        });

        if (response.action === 'OK') {
          // Redirect back to client with authorization code
          return res.redirect(response.responseContent);
        }

        return res.status(400).json({ error: response.resultMessage });
      } catch (error) {
        console.error('Consent error:', error);
        return res.status(500).json({ error: 'Internal server error' });
      }
    }
    ```
    </CodeGroup>
  </Step>

  <Step title="Implement token endpoint">
    Open `src/endpoints/token.ts` and paste this code. This endpoint exchanges the authorization code for access tokens. The client calls this endpoint with the code received from the consent step.

    <CodeGroup>
    ```typescript src/endpoints/token.ts
    import { Authlete } from '@authlete/typescript-sdk';
    import { Request, Response } from 'express';

    const authlete = new Authlete({
      bearer: process.env.AUTHLETE_BEARER_TOKEN || '',
    });

    export async function handleToken(req: Request, res: Response) {
      try {
        // Build token request parameters
        const params = new URLSearchParams({
          grant_type: req.body.grant_type || 'authorization_code',
          code: req.body.code,
          client_id: req.body.client_id,
          client_secret: req.body.client_secret || '',
          redirect_uri: req.body.redirect_uri,
        });

        // Exchange authorization code for tokens
        const response = await authlete.tokenEndpoint.postTokenApi({
          parameters: params.toString(),
        });

        if (response.action === 'OK') {
          return res.json({
            access_token: response.accessToken,
            token_type: 'Bearer',
            expires_in: response.accessTokenExpiresAt,
            refresh_token: response.refreshToken,
            id_token: response.idToken,
            scope: response.scope,
          });
        }

        return res.status(400).json({ 
          error: response.error,
          error_description: response.errorDescription 
        });
      } catch (error) {
        console.error('Token error:', error);
        return res.status(500).json({ error: 'Internal server error' });
      }
    }
    ```
    </CodeGroup>
  </Step>

  <Step title="Implement introspection endpoint">
    Open `src/endpoints/introspection.ts` and paste this code. This endpoint validates access tokens for your protected APIs. Use this to verify tokens before allowing access to protected resources.

    <CodeGroup>
    ```typescript src/endpoints/introspection.ts
    import { Authlete } from '@authlete/typescript-sdk';
    import { Request, Response } from 'express';

    const authlete = new Authlete({
      bearer: process.env.AUTHLETE_BEARER_TOKEN || '',
    });

    export async function handleIntrospection(req: Request, res: Response) {
      try {
        const { token } = req.body;

        // Validate the access token
        const response = await authlete.introspectionEndpoint.postIntrospectionApi({
          token: token,
        });

        if (response.active) {
          return res.json({
            active: true,
            scope: response.scope,
            client_id: response.clientId,
            username: response.username,
            subject: response.subject,
            exp: response.expiresAt,
          });
        }

        return res.json({ active: false });
      } catch (error) {
        console.error('Introspection error:', error);
        return res.status(500).json({ error: 'Internal server error' });
      }
    }
    ```
    </CodeGroup>
  </Step>

  <Step title="Test your authorization server">
    Start your server by running the following command. This will start the Express server on port 3000.

    <CodeGroup>
    ```bash
    npm run dev
    ```
    </CodeGroup>

    Visit your server at [http://localhost:3000](http://localhost:3000). Your authorization server is now running with four endpoints:

    - `GET /auth/authorize` - Authorization endpoint
    - `GET /auth/consent` - Consent endpoint
    - `POST /auth/token` - Token endpoint  
    - `POST /auth/introspect` - Introspection endpoint
  </Step>

  <Step title="It's time to build!">
    You've added Authlete to your authorization server! ðŸŽ‰ From here, you can continue developing your application.

    To make configuration changes to your Authlete service, visit the [Authlete Console](https://console.authlete.com) to create services, register clients, and manage all OAuth settings.
  </Step>
</Steps>

## Next steps

<CardGroup cols={2}>
  <Card
    title="Protect your APIs"
    icon="shield"
    href="/guides/api-protection"
  >
    Learn how to use the introspection endpoint to protect your API routes with access tokens.
  </Card>
  <Card
    title="Add user authentication"
    icon="key"
    href="/guides/user-authentication"
  >
    Implement user login and session management for your authorization server.
  </Card>
  <Card
    title="Configure client applications"
    icon="settings"
    href="/guides/client-management"
  >
    Register and manage OAuth client applications in your Authlete service.
  </Card>
  <Card
    title="API Reference"
    icon="code"
    href="/api-reference"
  >
    Explore all available Authlete API endpoints and their parameters.
  </Card>
</CardGroup>
