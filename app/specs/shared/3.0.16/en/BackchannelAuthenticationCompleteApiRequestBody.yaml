type: object
required:
  - ticket
  - result
  - subject
properties:
  ticket:
    type: string
    description: |
      The ticket issued by Authlete's `/backchannel/authentication` API.
  result:
    $ref: ../en_test.yaml#/components/schemas/BackchannelAuthenticationCompleteApiRequestBodyResult
  subject:
    type: string
    description: |
      The subject (= unique identifier) of the end-user.
  sub:
    type: string
    description: |
      The value of the sub claim that should be used in the ID token.
  authTime:
    type: integer
    format: int64
    description: >
      The time at which the end-user was authenticated. Its value is the number
      of seconds from `1970-01-01`.
  acr:
    type: string
    description: >
      The reference of the authentication context class which the end-user
      authentication satisfied.
  claims:
    type: string
    description: |
      Additional claims which will be embedded in the ID token.
  properties:
    type: array
    items:
      $ref: ../en_test.yaml#/components/schemas/BackchannelAuthenticationCompleteApiRequestBodyPropertiesItems
    description: |
      The extra properties associated with the access token.
  scopes:
    type: array
    items:
      type: string
    description: >
      Scopes to replace the scopes specified in the original backchannel
      authentication request with.

      When nothing is specified for this parameter, replacement is not
      performed.
  idtHeaderParams:
    type: string
    description: |
      JSON that represents additional JWS header parameters for ID tokens.
  errorDescription:
    type: string
    description: >
      The description of the error. If this optional request parameter is given,
      its value is used as

      the value of the `error_description` property, but it is used only when
      the result is not `AUTHORIZED`.

      To comply with the specification strictly, the description must not
      include characters outside

      the set `%x20-21 / %x23-5B / %x5D-7E`.
  errorUri:
    type: string
    description: >
      The URI of a document which describes the error in detail. This
      corresponds to the `error_uri`

      property in the response to the client.
  consentedClaims:
    type: array
    items:
      type: string
    description: |
      the claims that the user has consented for the client application
      to know.
  jwtAtClaims:
    type: string
    description: >
      Additional claims that are added to the payload part of the JWT access
      token.
  accessToken:
    type: string
    description: >
      The representation of an access token that may be issued as a result of
      the Authlete API call.
  accessTokenDuration:
    type: integer
    format: int64
    description: >
      The duration (in seconds) of the access token that may be issued as a
      result of the Authlete

      API call.


      When this request parameter holds a positive integer, it is used as the
      duration of the access

      token in. In other cases, this request parameter is ignored.
  refreshTokenDuration:
    type: integer
    format: int64
    description: >
      The duration (in seconds) of the refresh token that may be issued as a
      result of the Authlete

      API call.


      When this request parameter holds a positive integer, it is used as the
      duration of the refresh

      token in. In other cases, this request parameter is ignored.
  idTokenAudType:
    type: string
    description: >
      The type of the `aud` claim of the ID token being issued. Valid values are
      as follows.


      | Value | Description |

      | ----- | ----------- |

      | "array" | The type of the aud claim is always an array of strings. |

      | "string" | The type of the aud claim is always a single string. |

      | null | The type of the aud claim remains the same as before. |


      This request parameter takes precedence over the `idTokenAudType` property
      of the service.
