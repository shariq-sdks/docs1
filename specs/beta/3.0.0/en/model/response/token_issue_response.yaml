type: object
properties:
  resultCode:
    type: string
    description: The code which represents the result of the API call.
  resultMessage:
    type: string
    description: A short message which explains the result of the API call.
  action:
    type: string
    enum:
      - INTERNAL_SERVER_ERROR
      - OK
    description: The next action that the authorization server implementation should take.
  responseContent:
    type: string
    description: |
      The content that the authorization server implementation is to return to the client application.
      Its format is JSON.
  accessToken:
    type: string
    description: The newly issued access token. This parameter is a non-null value only when the value of `action` parameter is `OK`.
  accessTokenExpiresAt:
    type: integer
    format: int64
    description: |
      The datetime at which the newly issued access token will expire.
      The value is represented in milliseconds since the Unix epoch (1970-01-01).
  accessTokenDuration:
    type: integer
    format: int64
    description: The duration of the newly issued access token in seconds.
  refreshToken:
    type: string
    description: |
      The refresh token. This parameter is a non-null value only when `action` is `OK` and the service supports the refresh token flow.
      If `refreshTokenKept` is set to `false`, a new refresh token is issued and the old refresh token used in the refresh token flow
      is invalidated. On the contrary, if `refreshTokenKept` is set to `true`, the refresh token itself is not refreshed.
  refreshTokenExpiresAt:
    type: integer
    format: int64
    description: |
      The datetime at which the newly issued refresh token will expire.
      The value is represented in milliseconds since the Unix epoch (1970-01-01).
  refreshTokenDuration:
    type: integer
    format: int64
    description: The duration of the newly issued refresh token in seconds.
  clientId:
    type: integer
    format: int64
    description: The client ID.
  clientIdAlias:
    type: string
    description: |
      The client ID alias. If the client did not have an alias, this parameter is `null`.
  clientIdAliasUsed:
    type: boolean
    description: |
      The flag which indicates whether the client ID alias was used when the token request was made.
      `true` if the client ID alias was used when the token request was made.
  subject:
    type: string
    description: |
      The subject (= resource owner's ID) of the access token.
      Even if an access token has been issued by calling `/api/auth/token` API, this parameter is `null` if the flow of the token request was
      [Client Credentials Flow](https://datatracker.ietf.org/doc/html/rfc6749#section-4.4) (`grant_type=client_credentials`) because it means
      the access token is not associated with any specific end-user.
  scopes:
    type: array
    items:
      type: string
    description: The scopes covered by the access token.
  properties:
    type: array
    items:
      $ref: ../property.yaml
    description: |
      The extra properties associated with the access token.
      This parameter is `null` when no extra property is associated with the issued access token.
  jwtAccessToken:
    type: string
    description: |
      The newly issued access token in JWT format. If the authorization server is configured to issue JWT-based access tokens
      (= if the service's `accessTokenSignAlg` value is a non-null value), a JWT-based access token is issued along with the
      original random-string one.
  accessTokenResources:
    type: array
    items:
      type: string
    description: |
      The target resources of the access token being issued. See "Resource Indicators for OAuth 2.0" for details.
  authorizationDetails:
    $ref: ../authorization_details.yaml
  serviceAttributes:
    type: array
    items:
      $ref: ../pair.yaml
    description: |
      The attributes of this service that the client application belongs to.
  clientAttributes:
    type: array
    items:
      $ref: ../pair.yaml
    description: |
      The attributes of the client.
  clientEntityId:
    type: string
    description: |
      The entity ID of the client.
  clientEntityIdUsed:
    type: boolean
    description: |
      Flag which indicates whether the entity ID of the client was used when the request for the access token was made.
  refreshTokenScopes:
    type: array
    items: 
      type: string
    description: |
      The scopes associated with the refresh token. May be null.