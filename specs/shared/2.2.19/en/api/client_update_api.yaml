post:
  summary: /api/client/update/{clientId} API
  description: |
    Update a client.
  security:
    - ServiceCredentials: []
  parameters:
    - in: path
      name: clientId
      schema:
        type: string
      required: true
      description:
        A client ID.
  requestBody:
    required: false
    content:
      application/json:
        schema:
          $ref: ../model/client.yaml
        example:
          {
            "applicationType": "WEB",
            "attributes": [
              {
                "key": "attribute1-key",
                "value": "attribute1-value"
              },
              {
                "key": "attribute2-key",
                "value": "attribute2-value"
              }
            ],
            "authTimeRequired": false,
            "bcUserCodeRequired": false,
            "clientIdAlias": "my-client",
            "clientIdAliasEnabled": true,
            "clientName": "My updated client",
            "clientType": "CONFIDENTIAL",
            "defaultMaxAge": 0,
            "derivedSectorIdentifier": "my-client.example.com",
            "developer": "john",
            "dynamicallyRegistered": false,
            "frontChannelRequestObjectEncryptionRequired": false,
            "grantTypes": [
              "AUTHORIZATION_CODE",
              "REFRESH_TOKEN"
            ],
            "idTokenSignAlg": "RS256",
            "parRequired": false,
            "redirectUris": [
              "https://my-client.example.com/cb1",
              "https://my-client.example.com/cb2"
            ],
            "requestObjectEncryptionAlgMatchRequired": false,
            "requestObjectEncryptionEncMatchRequired": false,
            "requestObjectRequired": false,
            "responseTypes": [
              "CODE",
              "TOKEN"
            ],
            "subjectType": "PUBLIC",
            "tlsClientCertificateBoundAccessTokens": false,
            "tokenAuthMethod": "CLIENT_SECRET_BASIC"
          }
      application/x-www-form-urlencoded:
        schema:
          $ref: ../model/client.yaml
  responses:
    '200':
      $ref: ../model/response/client_update_response.yaml
    '400':
      description: ""
      content:
        application/json:
          schema:
            $ref: ../model/response/result.yaml
          example:
            resultCode: A001201
            resultMessage: '[A001201] /client/update/{clientId}, TLS must be used.'
    '401':
      description: ""
      content:
        application/json:
          schema:
            $ref: ../model/response/result.yaml
          example:
            resultCode: A001202
            resultMessage: '[A001202] /client/update/{clientId}, Authorization header is missing.'
    '403':
      description: ""
      content:
        application/json:
          schema:
            $ref: ../model/response/result.yaml
          example:
            resultCode: A001215
            resultMessage: '[A001215] /client/update/{clientId}, The service (API Key = 21653835348762) is locked.'
    '500':
      description: ""
      content:
        application/json:
          schema:
            $ref: ../model/response/result.yaml
          example:
            resultCode: A001101
            resultMessage: '[A001101] /client/update/{clientId}, Authlete Server error.'
  operationId: 'client_update_api'
  x-code-samples:
    - lang: shell
      label: curl
      source: |
        curl -v -X POST https://api.authlete.com/api/client/update/26478243745571 \
        -H 'Content-Type:application/json' \
        -u '21653835348762:uE4NgqeIpuSV_XejQ7Ds3jsgA1yXhjR1MXJ1LbPuyls' \
        -d '{ "clientName": "My updated client", ... }'

    - lang: java
      label: java
      source: |
        AuthleteConfiguration conf = ...;
        AuthleteApi api = AuthleteApiFactory.create(conf);

        // Get an existing client.
        long clientId = ...;
        Client client = api.getClient(clientId);

        // Update "client name".
        client.setClientName("My updated client");

        api.updateClient(client);

    - lang: cs
      label: C#
      source: |
        IAuthleteConfiguration conf = ...;
        IAuthleteApi api = new AuthleteApi(conf);

        // Get an existing client.
        long clientId = ...;
        Client client = api.GetClient(clientId);

        // Update "client name".
        client.ClientName = "My updated client";

        api.UpdateClient(client);

    - lang: php
      label: PHP
      source: |
        $conf = ...;
        $api = new AuthleteApiImpl($conf);

        // Get an existing client.
        $clientId = ...;
        $client = $api.getClient(clientId);

        // Update "client name".
        $client.setClientName("My updated client");

        $api.updateClient($client);

    - lang: ruby
      source: |
        conf = ...
        api = Authlete::Api.new(conf)

        # Get an existing client.
        client_id = ...
        client = api.client_get(client_id)

        # Update "client name".
        client.client_name = 'My updated client'

        api.client_update(client)

    - lang: python
      source: |
        conf = ...
        api = AuthleteApiImpl(conf)

        # Get an existing client.
        clientId = ...
        client = api.getClient(clientId)

        # Update "client name".
        client.clientName = 'My updated client'

        api.updatedClient(client)

    - lang: go
      source: |
        conf := ...
        api := api.New(&conf)

        // Get an existing client.
        clientId := ...
        client, _ := api.GetClient(clientId)

        // Update "client name".
        client.ClientName := "My updated client"

        api.UpdateClient(&client)

    - lang: ts
      label: deno
      source: |
        const conf: AuthleteConfiguration = ...;
        const api: AuthleteApi = new AuthleteApiImpl(conf);

        // Get an existing client.
        const clientId = ...;
        const client = await api.getClient(clientId);

        // Update "client name".
        client.clientName = 'My updated client';

        await api.updateClient(client);

  tags:
    - Client Management
