description: ""
content:
  application/json:
    schema:
      allOf:
        - $ref: result.yaml
        - type: object
          properties:
            action:
              type: string
              enum:
                - INTERNAL_SERVER_ERROR
                - BAD_REQUEST
                - UNAUTHORIZED
                - OK
              description: The next action that the authorization server implementation should take.
            responseContent:
              type: string
              description: |
                The content that the authorization server implementation is to return to the client
                application. Its format varies depending on the value of `action` parameter.
            clientId:
              type: integer
              format: int64
              description: |
                The client ID of the client application that has made the device authorization request.
            clientIdAlias:
              type: string
              description: |
                The client ID alias of the client application that has made the device authorization
                request.
            clientIdAliasUsed:
              type: boolean
              description: |
                `true` if the value of the client_id request parameter included in the device authorization
                request is the client ID alias. `false` if the value is the original numeric client ID.
            clientName:
              type: string
              description: |
                The name of the client application which has made the device authorization request.
            clientAuthMethod:
              type: string
              description: |
                The client authentication method that should be performed at the device authorization
                endpoint.
            scopes:
              type: array
              items:
                type: string
              description: |
                The scopes requested by the device authorization request.

                Basically, this property holds the value of the scope request parameter in the device
                authorization request. However, because unregistered scopes are dropped on Authlete
                side, if the `scope` request parameter contains unknown scopes, the list returned by
                this property becomes different from the value of the `scope` request parameter.

                Note that `description` property and `descriptions` property of each scope object in the
                array contained in this property is always `null` even if descriptions of the scopes
                are registered.
            claimNames:
              type: array
              items:
                type: string
              description: |
                The names of the claims which were requested indirectly via some special scopes.
                See [5.4. Requesting Claims using Scope Values](https://openid.net/specs/openid-connect-core-1_0.html#ScopeClaims)
                in OpenID Connect Core 1.0 for details.
            acrs:
              type: array
              items:
                type: string
              description: |
                 The list of ACR values requested by the device authorization request.

                 Basically, this property holds the value of the `acr_values` request parameter in the
                 device authorization request. However, because unsupported ACR values are dropped
                 on Authlete side, if the `acr_values` request parameter contains unrecognized ACR values,
                 the list returned by this property becomes different from the value of the `acr_values`
                 request parameter.
            deviceCode:
              type: string
              description: |
                The device verification code. This corresponds to the `device_code` property in the
                response to the client.
            userCode:
              type: string
              description: |
                The end-user verification code. This corresponds to the `user_code` property in the
                response to the client.
            verificationUri:
              type: string
              description: |
                The end-user verification URI. This corresponds to the `verification_uri` property in
                the response to the client.
            verificationUriComplete:
              type: string
              description: |
                The end-user verification URI that includes the end-user verification code. This corresponds
                to the `verification_uri_complete` property in the response to the client.
            expiresIn:
              type: integer
              format: int32
              description: |
                The duration of the device verification code in seconds. This corresponds to the `expires_in`
                property in the response to the client.
            interval:
              type: integer
              format: int32
              description: |
                The minimum amount of time in seconds that the client must wait for between polling
                requests to the token endpoint. This corresponds to the `interval` property in the response
                to the client.
            warnings:
              type: array
              items:
                type: string
              description: |
                The warnings raised during processing the backchannel authentication request.
            resources:
              type: array
              items:
                type: string
              description: |
                The resources specified by the `resource` request parameters. See "Resource Indicators
                for OAuth 2.0" for details.
            authorizationDetails:
              allOf:
                - $ref: ../authorization_details.yaml
              description: |
                The authorization details. This represents the value of the `authorization_details`
                request parameter in the preceding device authorization request which is defined in
                "OAuth 2.0 Rich Authorization Requests".
            serviceAttributes:
              type: array
              items:
                $ref: ../pair.yaml
              description: |
                The attributes of this service that the client application belongs to.
            clientAttributes:
              type: array
              items:
                $ref: ../pair.yaml
              description: |
                The attributes of the client.
            dynamicScopes:
              type: array
              items:
                $ref: ../dynamic_scope.yaml
              description: |
                The dynamic scopes which the client application requested by the scope request parameter.
      example:
        {
          "resultCode": "A220001",
          "resultMessage": "[A220001] The device authorization request was processed successfully.",
          "action": "OK",
          "clientId": 26888344961664,
          "clientIdAliasUsed": false,
          "clientName": "My Device Flow Client",
          "deviceCode": "p0qzXeRav8u6lJY9omjzR47KK58VwYN7j8xGUD7sq5I",
          "expiresIn": 3600,
          "interval": 0,
          "responseContent": "{\"user_code\":\"XWWKPBWVXQ\",\"device_code\":\"p0qzXeRav8u6lJY9omjzR47KK58VwYN7j8xGUD7sq5I\",\"verification_uri_complete\":\"https://my-service.com/df/verification?XWWKPBWVXQ\",\"verification_uri\":\"https://my-service.com/df/verification\",\"expires_in\":3600}",
          "scopes": [
            {
              "defaultEntry": false,
              "name": "history.read"
            }
          ],
          "serviceAttributes": [
            {
              "key": "attribute1-key",
              "value": "attribute1-value"
            },
            {
              "key": "attribute2-key",
              "value": "attribute2-value"
            }
          ],
          "userCode": "XWWKPBWVXQ",
          "verificationUri": "https://my-service.com/df/verification",
          "verificationUriComplete": "https://my-service.com/df/verification?XWWKPBWVXQ"
        }