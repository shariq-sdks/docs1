post:
  summary: Revoke Access Token
  description: |
    Revoke an access token.
  parameters:
    - in: path
      name: serviceId
      description: A service ID.
      required: true
      schema:
        type: string
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../model/request/token_revoke_request.yaml
        example:
          accessTokenIdentifier: Z5a40U6dWvw2gMoCOAFbZcM85q4HC0Z--0YKD9-Nf6Q
      application/x-www-form-urlencoded:
        schema:
          $ref: ../model/request/token_revoke_request.yaml
  responses:
    '200':
      description: ""
      content:
        application/json:
          schema:
            $ref: ../model/response/token_revoke_response.yaml
          example:
            {
              "resultCode": "A135001",
              "resultMessage": "[A135001] Updated the access token successfully.",
              "accessToken": "Z5a40U6dWvw2gMoCOAFbZcM85q4HC0Z--0YKD9-Nf6Q",
              "accessTokenExpiresAt": 1642048149000,
              "action": "OK",
              "scopes": [
                "history.read"
              ],
              "tokenType": "Bearer"
            }
    '400':
      $ref: ../model/response/400.yaml
    '401':
      $ref: ../model/response/401.yaml
    '403':
      $ref: ../model/response/403.yaml
    '500':
      $ref: ../model/response/500.yaml
  operationId: 'auth_token_revoke_api'
  x-code-samples:
    - lang: shell
      label: curl
      source: |
        curl -v -X POST https://us.authlete.com/api/21653835348762/auth/token/revoke \
        -H 'Content-Type:application/json' \
        -u 'Authorization: Bearer V5a40R6dWvw2gMkCOBFdZcM95q4HC0Z-T0YKD9-nR6F' \
        -d '{ "accessToken": "Z5a40U6dWvw2gMoCOAFbZcM85q4HC0Z--0YKD9-Nf6Q", "scopes": [ "history.read" ] }'

    - lang: java
      label: java
      source: |
        AuthleteConfiguration conf = ...;
        AuthleteApi api = AuthleteApiFactory.create(conf);

        TokenUpdateRequest req = new TokenUpdateRequest();
        req.setAccessToken("JDGiiM9PuWT63FIwGjG9eYlGi-aZMq6CQ2IB475JUxs");
        req.setScopes({ "history.read" });

        api.tokenUpdate(req);

    # - lang: cs
    #   label: C#
    #   source: |
    #     IAuthleteConfiguration conf = ...;
    #     IAuthleteApi api = new AuthleteApi(conf);

    #     TokenUpdateRequest req = new TokenUpdateRequest();
    #     req.AccessToken = "JDGiiM9PuWT63FIwGjG9eYlGi-aZMq6CQ2IB475JUxs";
    #     req.Scopes = { "history.read" };

    #     await api.TokenUpdate(request);

    # - lang: php
    #   label: PHP
    #   source: |
    #     $conf = ...;
    #     $api = new AuthleteApiImpl($conf);

    #     $req = new TokenUpdateRequest();
    #     $req.setAccessToken("JDGiiM9PuWT63FIwGjG9eYlGi-aZMq6CQ2IB475JUxs");
    #     $req.setScopes([ "history.read" ]);

    #     $api.tokenUpdate($req);

    # - lang: ruby
    #   source: |
    #     conf = ...
    #     api = Authlete::Api.new(conf)

    #     req = Authlete::Model::Request::TokenUpdateRequest.new
    #     req.access_token = 'JDGiiM9PuWT63FIwGjG9eYlGi-aZMq6CQ2IB475JUxs'
    #     req.scopes = [ 'history.read' ]

    #     api.token_update(req)

    - lang: python
      source: |
        conf = ...
        api = AuthleteApiImpl(conf)

        req = TokenUpdateRequest()
        req.accessToken = 'JDGiiM9PuWT63FIwGjG9eYlGi-aZMq6CQ2IB475JUxs'
        req.scopes = [ 'history.read' ]

        api.tokenUpdate(req)

    # - lang: go
    #   source: |
    #     conf := ...
    #     api := api.New(&conf)

    #     req := dto.TokenUpdateRequest{}
    #     req.AccessToken = "JDGiiM9PuWT63FIwGjG9eYlGi-aZMq6CQ2IB475JUxs"
    #     req.Scopes = [1]string{ "history.read" }

    #     api.TokenUpdate(&req)

    # - lang: ts
    #   label: deno
    #   source: |
    #     // This API is not supported yet.
  tags:
    - Token Operations
